
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Onegov Testing API &#8212; OneGov Docs 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="onegov-testing-api">
<h1>Onegov Testing API<a class="headerlink" href="#onegov-testing-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-onegov_testing.fixtures">
<span id="fixtures"></span><h2>Fixtures<a class="headerlink" href="#module-onegov_testing.fixtures" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="onegov_testing.fixtures.Elasticsearch">
<em class="property">class </em><code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">Elasticsearch</code><span class="sig-paren">(</span><em class="sig-param">hosts=None</em>, <em class="sig-param">transport_class=&lt;class 'elasticsearch.transport.Transport'&gt;</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Elasticsearch low-level client. Provides a straightforward mapping from
Python to ES REST endpoints.</p>
<p>The instance has attributes <code class="docutils literal notranslate"><span class="pre">cat</span></code>, <code class="docutils literal notranslate"><span class="pre">cluster</span></code>, <code class="docutils literal notranslate"><span class="pre">indices</span></code>, <code class="docutils literal notranslate"><span class="pre">ingest</span></code>,
<code class="docutils literal notranslate"><span class="pre">nodes</span></code>, <code class="docutils literal notranslate"><span class="pre">snapshot</span></code> and <code class="docutils literal notranslate"><span class="pre">tasks</span></code> that provide access to instances of
<code class="xref py py-class docutils literal notranslate"><span class="pre">CatClient</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">ClusterClient</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">IndicesClient</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">IngestClient</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">NodesClient</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">SnapshotClient</span></code> and
<code class="xref py py-class docutils literal notranslate"><span class="pre">TasksClient</span></code> respectively. This is the
preferred (and only supported) way to get access to those classes and their
methods.</p>
<p>You can specify your own connection class which should be used by providing
the <code class="docutils literal notranslate"><span class="pre">connection_class</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create connection to localhost using the ThriftConnection</span>
<span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span><span class="n">connection_class</span><span class="o">=</span><span class="n">ThriftConnection</span><span class="p">)</span>
</pre></div>
</div>
<p>If you want to turn on <span class="xref std std-ref">sniffing</span> you have several options (described
in <code class="xref py py-class docutils literal notranslate"><span class="pre">Transport</span></code>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create connection that will automatically inspect the cluster to get</span>
<span class="c1"># the list of active nodes. Start with nodes running on &#39;esnode1&#39; and</span>
<span class="c1"># &#39;esnode2&#39;</span>
<span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;esnode1&#39;</span><span class="p">,</span> <span class="s1">&#39;esnode2&#39;</span><span class="p">],</span>
    <span class="c1"># sniff before doing anything</span>
    <span class="n">sniff_on_start</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># refresh nodes after a node fails to respond</span>
    <span class="n">sniff_on_connection_fail</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># and also every 60 seconds</span>
    <span class="n">sniffer_timeout</span><span class="o">=</span><span class="mi">60</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Different hosts can have different parameters, use a dictionary per node to
specify those:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># connect to localhost directly and another node using SSL on port 443</span>
<span class="c1"># and an url_prefix. Note that ``port`` needs to be an int.</span>
<span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">([</span>
    <span class="p">{</span><span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s1">&#39;othernode&#39;</span><span class="p">,</span> <span class="s1">&#39;port&#39;</span><span class="p">:</span> <span class="mi">443</span><span class="p">,</span> <span class="s1">&#39;url_prefix&#39;</span><span class="p">:</span> <span class="s1">&#39;es&#39;</span><span class="p">,</span> <span class="s1">&#39;use_ssl&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="p">])</span>
</pre></div>
</div>
<p>If using SSL, there are several parameters that control how we deal with
certificates (see <code class="xref py py-class docutils literal notranslate"><span class="pre">Urllib3HttpConnection</span></code> for
detailed description of the options):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;localhost:443&#39;</span><span class="p">,</span> <span class="s1">&#39;other_host:443&#39;</span><span class="p">],</span>
    <span class="c1"># turn on SSL</span>
    <span class="n">use_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># make sure we verify SSL certificates</span>
    <span class="n">verify_certs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># provide a path to CA certs on disk</span>
    <span class="n">ca_certs</span><span class="o">=</span><span class="s1">&#39;/path/to/CA_certs&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>SSL client authentication is supported
(see <code class="xref py py-class docutils literal notranslate"><span class="pre">Urllib3HttpConnection</span></code> for
detailed description of the options):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span>
    <span class="p">[</span><span class="s1">&#39;localhost:443&#39;</span><span class="p">,</span> <span class="s1">&#39;other_host:443&#39;</span><span class="p">],</span>
    <span class="c1"># turn on SSL</span>
    <span class="n">use_ssl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># make sure we verify SSL certificates</span>
    <span class="n">verify_certs</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># provide a path to CA certs on disk</span>
    <span class="n">ca_certs</span><span class="o">=</span><span class="s1">&#39;/path/to/CA_certs&#39;</span><span class="p">,</span>
    <span class="c1"># PEM formatted SSL client certificate</span>
    <span class="n">client_cert</span><span class="o">=</span><span class="s1">&#39;/path/to/clientcert.pem&#39;</span><span class="p">,</span>
    <span class="c1"># PEM formatted SSL client key</span>
    <span class="n">client_key</span><span class="o">=</span><span class="s1">&#39;/path/to/clientkey.pem&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Alternatively you can use RFC-1738 formatted URLs, as long as they are not
in conflict with other options:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">&#39;http://user:secret@localhost:9200/&#39;</span><span class="p">,</span>
        <span class="s1">&#39;https://user:secret@other_host:443/production&#39;</span>
    <span class="p">],</span>
    <span class="n">verify_certs</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</pre></div>
</div>
<p>By default, <a class="reference external" href="https://github.com/elastic/elasticsearch-py/blob/master/elasticsearch/serializer.py#L24">JSONSerializer</a>
is used to encode all outgoing requests.
However, you can implement your own custom serializer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">elasticsearch.serializer</span> <span class="k">import</span> <span class="n">JSONSerializer</span>

<span class="k">class</span> <span class="nc">SetEncoder</span><span class="p">(</span><span class="n">JSONSerializer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Something</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;CustomSomethingRepresentation&#39;</span>
        <span class="k">return</span> <span class="n">JSONSerializer</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>

<span class="n">es</span> <span class="o">=</span> <span class="n">Elasticsearch</span><span class="p">(</span><span class="n">serializer</span><span class="o">=</span><span class="n">SetEncoder</span><span class="p">())</span>
</pre></div>
</div>
<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.ping">
<code class="sig-name descname">ping</code><span class="sig-paren">(</span><em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.ping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.ping" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the cluster is up, False otherwise.
<a class="reference external" href="http://www.elastic.co/guide/">http://www.elastic.co/guide/</a></p>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.info">
<code class="sig-name descname">info</code><span class="sig-paren">(</span><em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the basic info from the current cluster.
<a class="reference external" href="http://www.elastic.co/guide/">http://www.elastic.co/guide/</a></p>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">body</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a typed JSON document in a specific index, making it searchable.
Behind the scenes this method calls index(…, op_type=’create’)
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>id</strong> – Document ID</p></li>
<li><p><strong>body</strong> – The document</p></li>
<li><p><strong>parent</strong> – ID of the parent document</p></li>
<li><p><strong>pipeline</strong> – The pipeline id to preprocess incoming documents with</p></li>
<li><p><strong>refresh</strong> – If <cite>true</cite> then refresh the affected shards to make this
operation visible to search, if <cite>wait_for</cite> then wait for a refresh
to make this operation visible to search, if <cite>false</cite> (the default)
then do nothing with refreshes., valid choices are: ‘true’, ‘false’,
‘wait_for’</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>timestamp</strong> – Explicit timestamp for the document</p></li>
<li><p><strong>ttl</strong> – Expiration time for the document</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the index operation. Defaults to 1,
meaning the primary shard only. Set to <cite>all</cite> for all shard copies,
otherwise set to any non-negative value less than or equal to the
total number of copies for the shard (number of replicas + 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">body</em>, <em class="sig-param">id=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds or updates a typed JSON document in a specific index, making it searchable.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>body</strong> – The document</p></li>
<li><p><strong>id</strong> – Document ID</p></li>
<li><p><strong>if_primary_term</strong> – only perform the index operation if the last
operation that has changed the document has the specified primary
term</p></li>
<li><p><strong>if_seq_no</strong> – only perform the index operation if the last operation
that has changed the document has the specified sequence number</p></li>
<li><p><strong>op_type</strong> – Explicit operation type, default ‘index’, valid choices
are: ‘index’, ‘create’</p></li>
<li><p><strong>parent</strong> – ID of the parent document</p></li>
<li><p><strong>pipeline</strong> – The pipeline id to preprocess incoming documents with</p></li>
<li><p><strong>refresh</strong> – If <cite>true</cite> then refresh the affected shards to make this
operation visible to search, if <cite>wait_for</cite> then wait for a refresh
to make this operation visible to search, if <cite>false</cite> (the default)
then do nothing with refreshes., valid choices are: ‘true’, ‘false’,
‘wait_for’</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>timestamp</strong> – Explicit timestamp for the document</p></li>
<li><p><strong>ttl</strong> – Expiration time for the document</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the index operation. Defaults to 1,
meaning the primary shard only. Set to <cite>all</cite> for all shard copies,
otherwise set to any non-negative value less than or equal to the
total number of copies for the shard (number of replicas + 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.exists">
<code class="sig-name descname">exists</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean indicating whether or not given document exists in Elasticsearch.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document (use <cite>_all</cite> to fetch the first
document matching the ID across all types)</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>parent</strong> – The ID of the parent document</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>realtime</strong> – Specify whether to perform the operation in realtime or
search mode</p></li>
<li><p><strong>refresh</strong> – Refresh the shard containing the document before
performing the operation</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>stored_fields</strong> – A comma-separated list of stored fields to return in
the response</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.exists_source">
<code class="sig-name descname">exists_source</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.exists_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.exists_source" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/master/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/master/docs-get.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document; use <cite>_all</cite> to fetch the first
document matching the ID across all types</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>parent</strong> – The ID of the parent document</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>realtime</strong> – Specify whether to perform the operation in realtime or
search mode</p></li>
<li><p><strong>refresh</strong> – Refresh the shard containing the document before
performing the operation</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a typed JSON document from the index based on its id.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document (use <cite>_all</cite> to fetch the first
document matching the ID across all types)</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>parent</strong> – The ID of the parent document</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>realtime</strong> – Specify whether to perform the operation in realtime or
search mode</p></li>
<li><p><strong>refresh</strong> – Refresh the shard containing the document before
performing the operation</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>stored_fields</strong> – A comma-separated list of stored fields to return in
the response</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.get_source">
<code class="sig-name descname">get_source</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.get_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.get_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the source of a document by it’s index, type and id.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-get.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document; use <cite>_all</cite> to fetch the first
document matching the ID across all types</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>parent</strong> – The ID of the parent document</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>realtime</strong> – Specify whether to perform the operation in realtime or
search mode</p></li>
<li><p><strong>refresh</strong> – Refresh the shard containing the document before
performing the operation</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.mget">
<code class="sig-name descname">mget</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.mget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.mget" title="Permalink to this definition">¶</a></dt>
<dd><p>Get multiple documents based on an index, type (optional) and ids.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-get.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – Document identifiers; can be either <cite>docs</cite> (containing full
document information) or <cite>ids</cite> (when index and type is provided in
the URL.</p></li>
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>realtime</strong> – Specify whether to perform the operation in realtime or
search mode</p></li>
<li><p><strong>refresh</strong> – Refresh the shard containing the document before
performing the operation</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>stored_fields</strong> – A comma-separated list of stored fields to return in
the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a document based on a script or partial data provided.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>id</strong> – Document ID</p></li>
<li><p><strong>body</strong> – The request definition using either <cite>script</cite> or partial <cite>doc</cite></p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>if_primary_term</strong> – only perform the update operation if the last
operation that has changed the document has the specified primary
term</p></li>
<li><p><strong>if_seq_no</strong> – only perform the update operation if the last operation
that has changed the document has the specified sequence number</p></li>
<li><p><strong>fields</strong> – A comma-separated list of fields to return in the response</p></li>
<li><p><strong>lang</strong> – The script language (default: painless)</p></li>
<li><p><strong>parent</strong> – ID of the parent document. Is is only used for routing and
when for the upsert request</p></li>
<li><p><strong>refresh</strong> – If <cite>true</cite> then refresh the effected shards to make this
operation visible to search, if <cite>wait_for</cite> then wait for a refresh
to make this operation visible to search, if <cite>false</cite> (the default)
then do nothing with refreshes., valid choices are: ‘true’, ‘false’,
‘wait_for’</p></li>
<li><p><strong>retry_on_conflict</strong> – Specify how many times should the operation be
retried when a conflict occurs (default: 0)</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>timestamp</strong> – Explicit timestamp for the document</p></li>
<li><p><strong>ttl</strong> – Expiration time for the document</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘force’</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the update operation. Defaults to
1, meaning the primary shard only. Set to <cite>all</cite> for all shard
copies, otherwise set to any non-negative value less than or equal
to the total number of copies for the shard (number of replicas + 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a search query and get back search hits that match the query.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to search; leave
empty to perform the operation on all types</p></li>
<li><p><strong>body</strong> – The search definition using the Query DSL</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>allow_partial_search_results</strong> – Set to false to return an overall
failure if the request would produce partial results. Defaults to
True, which will allow partial results in the case of timeouts or
partial failures</p></li>
<li><p><strong>analyze_wildcard</strong> – Specify whether wildcard and prefix queries
should be analyzed (default: false)</p></li>
<li><p><strong>analyzer</strong> – The analyzer to use for the query string</p></li>
<li><p><strong>batched_reduce_size</strong> – The number of shard results that should be
reduced at once on the coordinating node. This value should be used
as a protection mechanism to reduce the memory overhead per search
request if the potential number of shards in the request can be
large., default 512</p></li>
<li><p><strong>default_operator</strong> – The default operator for query string query (AND
or OR), default ‘OR’, valid choices are: ‘AND’, ‘OR’</p></li>
<li><p><strong>df</strong> – The field to use as default where no field prefix is given in
the query string</p></li>
<li><p><strong>docvalue_fields</strong> – A comma-separated list of fields to return as the
docvalue representation of a field for each hit</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>explain</strong> – Specify whether to return detailed information about score
computation as part of a hit</p></li>
<li><p><strong>from_</strong> – Starting offset (default: 0)</p></li>
<li><p><strong>ignore_throttled</strong> – Whether specified concrete, expanded or aliased
indices should be ignored when throttled</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>lenient</strong> – Specify whether format-based query failures (such as
providing text to a numeric field) should be ignored</p></li>
<li><p><strong>max_concurrent_shard_requests</strong> – The number of concurrent shard
requests this search executes concurrently. This value should be
used to limit the impact of the search on the cluster in order to
limit the number of concurrent shard requests, default ‘The default
grows with the number of nodes in the cluster but is at most 256.’</p></li>
<li><p><strong>pre_filter_shard_size</strong> – A threshold that enforces a pre-filter
roundtrip to prefilter search shards based on query rewriting if
the number of shards the search request expands to exceeds the
threshold. This filter roundtrip can limit the number of shards
significantly if for instance a shard can not match any documents
based on it’s rewrite method ie. if date filters are mandatory to
match but the shard bounds and the query are disjoint., default 128</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>q</strong> – Query in the Lucene query string syntax</p></li>
<li><p><strong>request_cache</strong> – Specify if request cache should be used for this
request or not, defaults to index level setting</p></li>
<li><p><strong>routing</strong> – A comma-separated list of specific routing values</p></li>
<li><p><strong>scroll</strong> – Specify how long a consistent view of the index should be
maintained for scrolled search</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘dfs_query_then_fetch’</p></li>
<li><p><strong>size</strong> – Number of hits to return (default: 10)</p></li>
<li><p><strong>sort</strong> – A comma-separated list of &lt;field&gt;:&lt;direction&gt; pairs</p></li>
<li><p><strong>stats</strong> – Specific ‘tag’ of the request for logging and statistical
purposes</p></li>
<li><p><strong>stored_fields</strong> – A comma-separated list of stored fields to return as
part of a hit</p></li>
<li><p><strong>suggest_field</strong> – Specify which field to use for suggestions</p></li>
<li><p><strong>suggest_mode</strong> – Specify suggest mode, default ‘missing’, valid
choices are: ‘missing’, ‘popular’, ‘always’</p></li>
<li><p><strong>suggest_size</strong> – How many suggestions to return in response</p></li>
<li><p><strong>suggest_text</strong> – The source text for which the suggestions should be
returned</p></li>
<li><p><strong>terminate_after</strong> – The maximum number of documents to collect for
each shard, upon reaching which the query execution will terminate
early.</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>track_scores</strong> – Whether to calculate and return scores even if they
are not used for sorting</p></li>
<li><p><strong>track_total_hits</strong> – Indicate if the number of documents that match
the query should be tracked</p></li>
<li><p><strong>typed_keys</strong> – Specify whether aggregation and suggester names should
be prefixed by their respective types in the response</p></li>
<li><p><strong>version</strong> – Specify whether to return document version as part of a
hit</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.update_by_query">
<code class="sig-name descname">update_by_query</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.update_by_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.update_by_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an update on all documents matching a query.
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to search; leave
empty to perform the operation on all types</p></li>
<li><p><strong>body</strong> – The search definition using the Query DSL</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>analyze_wildcard</strong> – Specify whether wildcard and prefix queries
should be analyzed (default: false)</p></li>
<li><p><strong>analyzer</strong> – The analyzer to use for the query string</p></li>
<li><p><strong>conflicts</strong> – What to do when the update by query hits version
conflicts?, default ‘abort’, valid choices are: ‘abort’, ‘proceed’</p></li>
<li><p><strong>default_operator</strong> – The default operator for query string query (AND
or OR), default ‘OR’, valid choices are: ‘AND’, ‘OR’</p></li>
<li><p><strong>df</strong> – The field to use as default where no field prefix is given in
the query string</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>from_</strong> – Starting offset (default: 0)</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>lenient</strong> – Specify whether format-based query failures (such as
providing text to a numeric field) should be ignored</p></li>
<li><p><strong>pipeline</strong> – Ingest pipeline to set on index requests made by this
action. (default: none)</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>q</strong> – Query in the Lucene query string syntax</p></li>
<li><p><strong>refresh</strong> – Should the effected indexes be refreshed?</p></li>
<li><p><strong>request_cache</strong> – Specify if request cache should be used for this
request or not, defaults to index level setting</p></li>
<li><p><strong>requests_per_second</strong> – The throttle to set on this request in sub-
requests per second. -1 means no throttle., default 0</p></li>
<li><p><strong>routing</strong> – A comma-separated list of specific routing values</p></li>
<li><p><strong>scroll</strong> – Specify how long a consistent view of the index should be
maintained for scrolled search</p></li>
<li><p><strong>scroll_size</strong> – Size on the scroll request powering the
update_by_query</p></li>
<li><p><strong>search_timeout</strong> – Explicit timeout for each search request. Defaults
to no timeout.</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘dfs_query_then_fetch’</p></li>
<li><p><strong>size</strong> – Number of hits to return (default: 10)</p></li>
<li><p><strong>slices</strong> – The number of slices this task should be divided into.
Defaults to 1 meaning the task isn’t sliced into subtasks., default
1</p></li>
<li><p><strong>sort</strong> – A comma-separated list of &lt;field&gt;:&lt;direction&gt; pairs</p></li>
<li><p><strong>stats</strong> – Specific ‘tag’ of the request for logging and statistical
purposes</p></li>
<li><p><strong>terminate_after</strong> – The maximum number of documents to collect for
each shard, upon reaching which the query execution will terminate
early.</p></li>
<li><p><strong>timeout</strong> – Time each individual bulk request should wait for shards
that are unavailable., default ‘1m’</p></li>
<li><p><strong>version</strong> – Specify whether to return document version as part of a
hit</p></li>
<li><p><strong>version_type</strong> – Should the document increment the version number
(internal) on hit or not (reindex)</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the update by query operation.
Defaults to 1, meaning the primary shard only. Set to <cite>all</cite> for all
shard copies, otherwise set to any non-negative value less than or
equal to the total number of copies for the shard (number of
replicas + 1)</p></li>
<li><p><strong>wait_for_completion</strong> – Should the request should block until the
update by query operation is complete., default True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.update_by_query_rethrottle">
<code class="sig-name descname">update_by_query_rethrottle</code><span class="sig-paren">(</span><em class="sig-param">task_id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.update_by_query_rethrottle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.update_by_query_rethrottle" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-update-by-query.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The task id to rethrottle</p></li>
<li><p><strong>requests_per_second</strong> – The throttle to set on this request in
floating sub-requests per second. -1 means set no throttle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.reindex">
<code class="sig-name descname">reindex</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.reindex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.reindex" title="Permalink to this definition">¶</a></dt>
<dd><p>Reindex all documents from one index to another.
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – The search definition using the Query DSL and the prototype
for the index request.</p></li>
<li><p><strong>refresh</strong> – Should the effected indexes be refreshed?</p></li>
<li><p><strong>requests_per_second</strong> – The throttle to set on this request in sub-
requests per second. -1 means no throttle., default 0</p></li>
<li><p><strong>slices</strong> – The number of slices this task should be divided into.
Defaults to 1 meaning the task isn’t sliced into subtasks., default
1</p></li>
<li><p><strong>timeout</strong> – Time each individual bulk request should wait for shards
that are unavailable., default ‘1m’</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the reindex operation. Defaults to
1, meaning the primary shard only. Set to <cite>all</cite> for all shard
copies, otherwise set to any non-negative value less than or equal
to the total number of copies for the shard (number of replicas + 1)</p></li>
<li><p><strong>wait_for_completion</strong> – Should the request should block until the
reindex is complete., default True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.reindex_rethrottle">
<code class="sig-name descname">reindex_rethrottle</code><span class="sig-paren">(</span><em class="sig-param">task_id=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.reindex_rethrottle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.reindex_rethrottle" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the value of <code class="docutils literal notranslate"><span class="pre">requests_per_second</span></code> of a running <code class="docutils literal notranslate"><span class="pre">reindex</span></code> task.
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The task id to rethrottle</p></li>
<li><p><strong>requests_per_second</strong> – The throttle to set on this request in
floating sub-requests per second. -1 means set no throttle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.delete_by_query">
<code class="sig-name descname">delete_by_query</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">body</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.delete_by_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.delete_by_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all documents matching a query.
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>body</strong> – The search definition using the Query DSL</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to search; leave
empty to perform the operation on all types</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>analyze_wildcard</strong> – Specify whether wildcard and prefix queries
should be analyzed (default: false)</p></li>
<li><p><strong>analyzer</strong> – The analyzer to use for the query string</p></li>
<li><p><strong>conflicts</strong> – What to do when the delete-by-query hits version
conflicts?, default ‘abort’, valid choices are: ‘abort’, ‘proceed’</p></li>
<li><p><strong>default_operator</strong> – The default operator for query string query (AND
or OR), default ‘OR’, valid choices are: ‘AND’, ‘OR’</p></li>
<li><p><strong>df</strong> – The field to use as default where no field prefix is given in
the query string</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>from_</strong> – Starting offset (default: 0)</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>lenient</strong> – Specify whether format-based query failures (such as
providing text to a numeric field) should be ignored</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>q</strong> – Query in the Lucene query string syntax</p></li>
<li><p><strong>refresh</strong> – Should the effected indexes be refreshed?</p></li>
<li><p><strong>request_cache</strong> – Specify if request cache should be used for this
request or not, defaults to index level setting</p></li>
<li><p><strong>requests_per_second</strong> – The throttle for this request in sub-requests
per second. -1 means no throttle., default 0</p></li>
<li><p><strong>routing</strong> – A comma-separated list of specific routing values</p></li>
<li><p><strong>scroll</strong> – Specify how long a consistent view of the index should be
maintained for scrolled search</p></li>
<li><p><strong>scroll_size</strong> – Size on the scroll request powering the
update_by_query</p></li>
<li><p><strong>search_timeout</strong> – Explicit timeout for each search request. Defaults
to no timeout.</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘dfs_query_then_fetch’</p></li>
<li><p><strong>size</strong> – Number of hits to return (default: 10)</p></li>
<li><p><strong>slices</strong> – The number of slices this task should be divided into.
Defaults to 1 meaning the task isn’t sliced into subtasks., default
1</p></li>
<li><p><strong>sort</strong> – A comma-separated list of &lt;field&gt;:&lt;direction&gt; pairs</p></li>
<li><p><strong>stats</strong> – Specific ‘tag’ of the request for logging and statistical
purposes</p></li>
<li><p><strong>terminate_after</strong> – The maximum number of documents to collect for
each shard, upon reaching which the query execution will terminate
early.</p></li>
<li><p><strong>timeout</strong> – Time each individual bulk request should wait for shards
that are unavailable., default ‘1m’</p></li>
<li><p><strong>version</strong> – Specify whether to return document version as part of a
hit</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the delete by query operation.
Defaults to 1, meaning the primary shard only. Set to <cite>all</cite> for all
shard copies, otherwise set to any non-negative value less than or
equal to the total number of copies for the shard (number of
replicas + 1)</p></li>
<li><p><strong>wait_for_completion</strong> – Should the request should block until the
delete-by-query is complete., default True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.delete_by_query_rethrottle">
<code class="sig-name descname">delete_by_query_rethrottle</code><span class="sig-paren">(</span><em class="sig-param">task_id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.delete_by_query_rethrottle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.delete_by_query_rethrottle" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete-by-query.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>task_id</strong> – The task id to rethrottle</p></li>
<li><p><strong>requests_per_second</strong> – The throttle to set on this request in
floating sub-requests per second. -1 means set no throttle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.search_shards">
<code class="sig-name descname">search_shards</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.search_shards"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.search_shards" title="Permalink to this definition">¶</a></dt>
<dd><p>The search shards api returns the indices and shards that a search
request would be executed against. This can give useful feedback for working
out issues or planning optimizations with routing and shard preferences.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-shards.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-shards.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>local</strong> – Return local information, do not retrieve the state from
master node (default: false)</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.search_template">
<code class="sig-name descname">search_template</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.search_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.search_template" title="Permalink to this definition">¶</a></dt>
<dd><p>A query that accepts a query template and a map of key/value pairs to
fill in template parameters.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to search; leave
empty to perform the operation on all types</p></li>
<li><p><strong>body</strong> – The search definition template and its params</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>explain</strong> – Specify whether to return detailed information about score
computation as part of a hit</p></li>
<li><p><strong>ignore_throttled</strong> – Whether specified concrete, expanded or aliased
indices should be ignored when throttled</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>profile</strong> – Specify whether to profile the query execution</p></li>
<li><p><strong>routing</strong> – A comma-separated list of specific routing values</p></li>
<li><p><strong>scroll</strong> – Specify how long a consistent view of the index should be
maintained for scrolled search</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘query_and_fetch’, ‘dfs_query_then_fetch’,
‘dfs_query_and_fetch’</p></li>
<li><p><strong>typed_keys</strong> – Specify whether aggregation and suggester names should
be prefixed by their respective types in the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.explain">
<code class="sig-name descname">explain</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.explain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.explain" title="Permalink to this definition">¶</a></dt>
<dd><p>The explain api computes a score explanation for a query and a specific
document. This can give useful feedback whether a document matches or
didn’t match a specific query.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-explain.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>body</strong> – The query definition using the Query DSL</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or a
list of fields to return</p></li>
<li><p><strong>_source_exclude</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_include</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>_source_excludes</strong> – A list of fields to exclude from the returned
_source field</p></li>
<li><p><strong>_source_includes</strong> – A list of fields to extract and return from the
_source field</p></li>
<li><p><strong>analyze_wildcard</strong> – Specify whether wildcards and prefix queries in
the query string query should be analyzed (default: false)</p></li>
<li><p><strong>analyzer</strong> – The analyzer for the query string query</p></li>
<li><p><strong>default_operator</strong> – The default operator for query string query (AND
or OR), default ‘OR’, valid choices are: ‘AND’, ‘OR’</p></li>
<li><p><strong>df</strong> – The default field for query string query (default: _all)</p></li>
<li><p><strong>lenient</strong> – Specify whether format-based query failures (such as
providing text to a numeric field) should be ignored</p></li>
<li><p><strong>parent</strong> – The ID of the parent document</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>q</strong> – Query in the Lucene query string syntax</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>stored_fields</strong> – A comma-separated list of stored fields to return in
the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.scroll">
<code class="sig-name descname">scroll</code><span class="sig-paren">(</span><em class="sig-param">scroll_id=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.scroll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.scroll" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/master/search-request-scroll.html">http://www.elastic.co/guide/en/elasticsearch/reference/master/search-request-scroll.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scroll_id</strong> – The scroll ID</p></li>
<li><p><strong>body</strong> – The scroll ID if not passed by URL or query parameter.</p></li>
<li><p><strong>rest_total_hits_as_int</strong> – This parameter is ignored in this version.
It is used in the next major version to control whether the rest
response should render the total.hits as an object or a number,
default False</p></li>
<li><p><strong>scroll</strong> – Specify how long a consistent view of the index should be
maintained for scrolled search</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.clear_scroll">
<code class="sig-name descname">clear_scroll</code><span class="sig-paren">(</span><em class="sig-param">scroll_id=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.clear_scroll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.clear_scroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the scroll request created by specifying the scroll parameter to
search.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scroll_id</strong> – A comma-separated list of scroll IDs to clear</p></li>
<li><p><strong>body</strong> – A comma-separated list of scroll IDs to clear if none was
specified via the scroll_id parameter</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a typed JSON document from a specific index based on its id.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-delete.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The name of the index</p></li>
<li><p><strong>doc_type</strong> – The type of the document</p></li>
<li><p><strong>id</strong> – The document ID</p></li>
<li><p><strong>if_primary_term</strong> – only perform the delete operation if the last
operation that has changed the document has the specified primary
term</p></li>
<li><p><strong>if_seq_no</strong> – only perform the delete operation if the last operation</p></li>
<li><p><strong>parent</strong> – ID of parent document</p></li>
<li><p><strong>refresh</strong> – If <cite>true</cite> then refresh the effected shards to make this
operation visible to search, if <cite>wait_for</cite> then wait for a refresh
to make this operation visible to search, if <cite>false</cite> (the default)
then do nothing with refreshes., valid choices are: ‘true’, ‘false’,
‘wait_for’</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the delete operation. Defaults to
1, meaning the primary shard only. Set to <cite>all</cite> for all shard
copies, otherwise set to any non-negative value less than or equal
to the total number of copies for the shard (number of replicas + 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.count">
<code class="sig-name descname">count</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a query and get the number of matches for that query.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-count.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of indices to restrict the results</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of types to restrict the results</p></li>
<li><p><strong>body</strong> – A query to restrict the results specified with the Query DSL
(optional)</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>analyze_wildcard</strong> – Specify whether wildcard and prefix queries
should be analyzed (default: false)</p></li>
<li><p><strong>analyzer</strong> – The analyzer to use for the query string</p></li>
<li><p><strong>default_operator</strong> – The default operator for query string query (AND
or OR), default ‘OR’, valid choices are: ‘AND’, ‘OR’</p></li>
<li><p><strong>df</strong> – The field to use as default where no field prefix is given in
the query string</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
<li><p><strong>lenient</strong> – Specify whether format-based query failures (such as
providing text to a numeric field) should be ignored</p></li>
<li><p><strong>min_score</strong> – Include only documents with a specific <cite>_score</cite> value in
the result</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random)</p></li>
<li><p><strong>q</strong> – Query in the Lucene query string syntax</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.bulk">
<code class="sig-name descname">bulk</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.bulk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.bulk" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform many index/delete operations in a single API call.</p>
<p>See the <code class="xref py py-func docutils literal notranslate"><span class="pre">bulk()</span></code> helper function for a more
friendly API.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – The operation definition and data (action-data pairs),
separated by newlines</p></li>
<li><p><strong>index</strong> – Default index for items which don’t provide one</p></li>
<li><p><strong>doc_type</strong> – Default document type for items which don’t provide one</p></li>
<li><p><strong>_source</strong> – True or false to return the _source field or not, or
default list of fields to return, can be overridden on each sub-
request</p></li>
<li><p><strong>_source_exclude</strong> – Default list of fields to exclude from the
returned _source field, can be overridden on each sub-request</p></li>
<li><p><strong>_source_include</strong> – Default list of fields to extract and return from
the _source field, can be overridden on each sub-request</p></li>
<li><p><strong>_source_exclude</strong> – Default list of fields to exclude from the
returned _source field, can be overridden on each sub-request</p></li>
<li><p><strong>_source_include</strong> – Default list of fields to extract and return from
the _source field, can be overridden on each sub-request</p></li>
<li><p><strong>fields</strong> – Default comma-separated list of fields to return in the
response for updates, can be overridden on each sub-request</p></li>
<li><p><strong>pipeline</strong> – The pipeline id to preprocess incoming documents with</p></li>
<li><p><strong>refresh</strong> – If <cite>true</cite> then refresh the effected shards to make this
operation visible to search, if <cite>wait_for</cite> then wait for a refresh
to make this operation visible to search, if <cite>false</cite> (the default)
then do nothing with refreshes., valid choices are: ‘true’, ‘false’,
‘wait_for’</p></li>
<li><p><strong>routing</strong> – Specific routing value</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
<li><p><strong>wait_for_active_shards</strong> – Sets the number of shard copies that must
be active before proceeding with the bulk operation. Defaults to 1,
meaning the primary shard only. Set to <cite>all</cite> for all shard copies,
otherwise set to any non-negative value less than or equal to the
total number of copies for the shard (number of replicas + 1)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.msearch">
<code class="sig-name descname">msearch</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.msearch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.msearch" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute several search requests within the same API.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – The request definitions (metadata-search request definition
pairs), separated by newlines</p></li>
<li><p><strong>index</strong> – A comma-separated list of index names to use as default</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to use as
default</p></li>
<li><p><strong>max_concurrent_searches</strong> – Controls the maximum number of concurrent
searches the multi search api will execute</p></li>
<li><p><strong>max_concurrent_shard_requests</strong> – The number of concurrent shard
requests each sub search executes concurrently. This value should be
used to limit the impact of the search on the cluster in order to
limit the number of concurrent shard requests, default ‘The default
grows with the number of nodes in the cluster but is at most 256.’</p></li>
<li><p><strong>pre_filter_shard_size</strong> – A threshold that enforces a pre-filter
roundtrip to prefilter search shards based on query rewriting if
the number of shards the search request expands to exceeds the
threshold. This filter roundtrip can limit the number of shards
significantly if for instance a shard can not match any documents
based on it’s rewrite method ie. if date filters are mandatory to
match but the shard bounds and the query are disjoint., default 128</p></li>
<li><p><strong>rest_total_hits_as_int</strong> – This parameter is ignored in this version.
It is used in the next major version to control whether the rest
response should render the total.hits as an object or a number,
default False</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘query_and_fetch’, ‘dfs_query_then_fetch’,
‘dfs_query_and_fetch’</p></li>
<li><p><strong>typed_keys</strong> – Specify whether aggregation and suggester names should
be prefixed by their respective types in the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.termvectors">
<code class="sig-name descname">termvectors</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">doc_type</em>, <em class="sig-param">id=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.termvectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.termvectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information and statistics on terms in the fields of a
particular document. The document could be stored in the index or
artificially provided by the user (Added in 1.4). Note that for
documents stored in the index, this is a near realtime API as the term
vectors are not available until the next refresh.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The index in which the document resides.</p></li>
<li><p><strong>doc_type</strong> – The type of the document.</p></li>
<li><p><strong>id</strong> – The id of the document, when not specified a doc param should
be supplied.</p></li>
<li><p><strong>body</strong> – Define parameters and or supply a document to get termvectors
for. See documentation.</p></li>
<li><p><strong>field_statistics</strong> – Specifies if document count, sum of document
frequencies and sum of total term frequencies should be returned.,
default True</p></li>
<li><p><strong>fields</strong> – A comma-separated list of fields to return.</p></li>
<li><p><strong>offsets</strong> – Specifies if term offsets should be returned., default
True</p></li>
<li><p><strong>parent</strong> – Parent id of documents.</p></li>
<li><p><strong>payloads</strong> – Specifies if term payloads should be returned., default
True</p></li>
<li><p><strong>positions</strong> – Specifies if term positions should be returned., default
True</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random).</p></li>
<li><p><strong>realtime</strong> – Specifies if request is real-time as opposed to near-
real-time (default: true).</p></li>
<li><p><strong>routing</strong> – Specific routing value.</p></li>
<li><p><strong>term_statistics</strong> – Specifies if total term frequency and document
frequency should be returned., default False</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.mtermvectors">
<code class="sig-name descname">mtermvectors</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.mtermvectors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.mtermvectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Multi termvectors API allows to get multiple termvectors based on an
index, type and id.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-termvectors.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/docs-multi-termvectors.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – The index in which the document resides.</p></li>
<li><p><strong>doc_type</strong> – The type of the document.</p></li>
<li><p><strong>body</strong> – Define ids, documents, parameters or a list of parameters per
document here. You must at least provide a list of document ids. See
documentation.</p></li>
<li><p><strong>field_statistics</strong> – Specifies if document count, sum of document
frequencies and sum of total term frequencies should be returned.
Applies to all returned documents unless otherwise specified in body
“params” or “docs”., default True</p></li>
<li><p><strong>fields</strong> – A comma-separated list of fields to return. Applies to all
returned documents unless otherwise specified in body “params” or
“docs”.</p></li>
<li><p><strong>ids</strong> – A comma-separated list of documents ids. You must define ids
as parameter or set “ids” or “docs” in the request body</p></li>
<li><p><strong>offsets</strong> – Specifies if term offsets should be returned. Applies to
all returned documents unless otherwise specified in body “params”
or “docs”., default True</p></li>
<li><p><strong>parent</strong> – Parent id of documents. Applies to all returned documents
unless otherwise specified in body “params” or “docs”.</p></li>
<li><p><strong>payloads</strong> – Specifies if term payloads should be returned. Applies to
all returned documents unless otherwise specified in body “params”
or “docs”., default True</p></li>
<li><p><strong>positions</strong> – Specifies if term positions should be returned. Applies
to all returned documents unless otherwise specified in body
“params” or “docs”., default True</p></li>
<li><p><strong>preference</strong> – Specify the node or shard the operation should be
performed on (default: random) .Applies to all returned documents
unless otherwise specified in body “params” or “docs”.</p></li>
<li><p><strong>realtime</strong> – Specifies if requests are real-time as opposed to near-
real-time (default: true).</p></li>
<li><p><strong>routing</strong> – Specific routing value. Applies to all returned documents
unless otherwise specified in body “params” or “docs”.</p></li>
<li><p><strong>term_statistics</strong> – Specifies if total term frequency and document
frequency should be returned. Applies to all returned documents
unless otherwise specified in body “params” or “docs”., default
False</p></li>
<li><p><strong>version</strong> – Explicit version number for concurrency control</p></li>
<li><p><strong>version_type</strong> – Specific version type, valid choices are: ‘internal’,
‘external’, ‘external_gte’, ‘force’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.put_script">
<code class="sig-name descname">put_script</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">body</em>, <em class="sig-param">context=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.put_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.put_script" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html">http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – Script ID</p></li>
<li><p><strong>body</strong> – The document</p></li>
<li><p><strong>context</strong> – Script context</p></li>
<li><p><strong>master_timeout</strong> – Specify timeout for connection to master</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.rank_eval">
<code class="sig-name descname">rank_eval</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">index=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.rank_eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.rank_eval" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/master/search-rank-eval.html">https://www.elastic.co/guide/en/elasticsearch/reference/master/search-rank-eval.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – The ranking evaluation search definition, including search
requests, document ratings and ranking metric definition.</p></li>
<li><p><strong>index</strong> – A comma-separated list of index names to search; use <cite>_all</cite>
or empty string to perform the operation on all indices</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.get_script">
<code class="sig-name descname">get_script</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.get_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.get_script" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html">http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – Script ID</p></li>
<li><p><strong>master_timeout</strong> – Specify timeout for connection to master</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.delete_script">
<code class="sig-name descname">delete_script</code><span class="sig-paren">(</span><em class="sig-param">id</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.delete_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.delete_script" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html">http://www.elastic.co/guide/en/elasticsearch/reference/master/modules-scripting.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – Script ID</p></li>
<li><p><strong>master_timeout</strong> – Specify timeout for connection to master</p></li>
<li><p><strong>timeout</strong> – Explicit operation timeout</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.render_search_template">
<code class="sig-name descname">render_search_template</code><span class="sig-paren">(</span><em class="sig-param">id=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.render_search_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.render_search_template" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-template.html">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-template.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – The id of the stored search template</p></li>
<li><p><strong>body</strong> – The search definition template and its params</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.scripts_painless_execute">
<code class="sig-name descname">scripts_painless_execute</code><span class="sig-paren">(</span><em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.scripts_painless_execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.scripts_painless_execute" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-execute-api.html">https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-execute-api.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>body</strong> – The script to execute</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.msearch_template">
<code class="sig-name descname">msearch_template</code><span class="sig-paren">(</span><em class="sig-param">body</em>, <em class="sig-param">index=None</em>, <em class="sig-param">doc_type=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.msearch_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.msearch_template" title="Permalink to this definition">¶</a></dt>
<dd><p>The /_search/template endpoint allows to use the mustache language to
pre render search requests, before they are executed and fill existing
templates with template parameters.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>body</strong> – The request definitions (metadata-search request definition
pairs), separated by newlines</p></li>
<li><p><strong>index</strong> – A comma-separated list of index names to use as default</p></li>
<li><p><strong>doc_type</strong> – A comma-separated list of document types to use as
default</p></li>
<li><p><strong>max_concurrent_searches</strong> – Controls the maximum number of concurrent
searches the multi search api will execute</p></li>
<li><p><strong>rest_total_hits_as_int</strong> – This parameter is ignored in this version.
It is used in the next major version to control whether the rest
response should render the total.hits as an object or a number,
default False</p></li>
<li><p><strong>search_type</strong> – Search operation type, valid choices are:
‘query_then_fetch’, ‘query_and_fetch’, ‘dfs_query_then_fetch’,
‘dfs_query_and_fetch’</p></li>
<li><p><strong>typed_keys</strong> – Specify whether aggregation and suggester names should
be prefixed by their respective types in the response</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onegov_testing.fixtures.Elasticsearch.field_caps">
<code class="sig-name descname">field_caps</code><span class="sig-paren">(</span><em class="sig-param">index=None</em>, <em class="sig-param">body=None</em>, <em class="sig-param">params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/elasticsearch/client.html#Elasticsearch.field_caps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.Elasticsearch.field_caps" title="Permalink to this definition">¶</a></dt>
<dd><p>The field capabilities API allows to retrieve the capabilities of fields among multiple indices.
<a class="reference external" href="http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field-caps.html">http://www.elastic.co/guide/en/elasticsearch/reference/current/search-field-caps.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> – A comma-separated list of index names; use <cite>_all</cite> or empty
string to perform the operation on all indices</p></li>
<li><p><strong>body</strong> – Field json objects containing an array of field names</p></li>
<li><p><strong>allow_no_indices</strong> – Whether to ignore if a wildcard indices
expression resolves into no concrete indices. (This includes <cite>_all</cite>
string or when no indices have been specified)</p></li>
<li><p><strong>expand_wildcards</strong> – Whether to expand wildcard expression to concrete
indices that are open, closed or both., default ‘open’, valid
choices are: ‘open’, ‘closed’, ‘none’, ‘all’</p></li>
<li><p><strong>fields</strong> – A comma-separated list of field names</p></li>
<li><p><strong>ignore_unavailable</strong> – Whether specified concrete indices should be
ignored when unavailable (missing or closed)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.redis_server">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">redis_server</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#onegov_testing.fixtures.redis_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Fixture for pytest-redis.</p>
<ol class="arabic simple">
<li><p>Get configs.</p></li>
<li><p>Run redis process.</p></li>
<li><p>Stop redis process after tests.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> (<em>FixtureRequest</em>) – fixture request object</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pytest_redis.executors.TCPExecutor</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tcp executor</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="onegov_testing.fixtures.HTTPExecutor">
<em class="property">class </em><code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">HTTPExecutor</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#HTTPExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.HTTPExecutor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="onegov_testing.fixtures.HTTPExecutor.after_start_check">
<code class="sig-name descname">after_start_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#HTTPExecutor.after_start_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.HTTPExecutor.after_start_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if defined URL returns expected status to a HEAD request.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.treat_sqlalchemy_warnings_as_errors">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">treat_sqlalchemy_warnings_as_errors</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#treat_sqlalchemy_warnings_as_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.treat_sqlalchemy_warnings_as_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>All onegov models treat SQLAlchemy warnings as errors, because usually
SQLAlchemy warnings are errors waiting to happen.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.cache_password_hashing">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">cache_password_hashing</code><span class="sig-paren">(</span><em class="sig-param">monkeysession</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#cache_password_hashing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.cache_password_hashing" title="Permalink to this definition">¶</a></dt>
<dd><p>Monkey-patch the password hashing/verification functions during tests
for a big speed increase (we login with the same password over and over
again).</p>
<p>Changes to the auth are delicate, so we make sure this is only done during
testing by having it here, instead of support some mechanism like this
in onegov.core itself.</p>
<p>So this dangerous code is not only inexistant in the core, it is also not
present on the server because onegov_testing is strictly a testing
dependency and finally it is only run when invoked through pytest.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.postgres">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">postgres</code><span class="sig-paren">(</span><em class="sig-param">pg_preferred_versions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#postgres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.postgres" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a postgres server using <a class="reference external" href="https://pypi.python.org/pypi/testing.postgresql/">testing.postgresql</a> once per test session.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.postgres_dsn">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">postgres_dsn</code><span class="sig-paren">(</span><em class="sig-param">postgres</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#postgres_dsn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.postgres_dsn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dsn to a temporary postgres server. Cleans up the database
after running the tests.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.session_manager">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">session_manager</code><span class="sig-paren">(</span><em class="sig-param">postgres_dsn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#session_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.session_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a <code class="xref py py-class docutils literal notranslate"><span class="pre">onegov.core.orm.session_manager.SessionManager</span></code>
setup with <a class="reference internal" href="#onegov_testing.fixtures.postgres_dsn" title="onegov_testing.fixtures.postgres_dsn"><code class="xref py py-func docutils literal notranslate"><span class="pre">postgres_dsn()</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.session">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">session</code><span class="sig-paren">(</span><em class="sig-param">session_manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.session" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an SQLAlchemy session, scoped to a random schema.</p>
<p>This is the fixture you usually want to use for ORM tests.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.temporary_directory">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">temporary_directory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#temporary_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.temporary_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides a temporary directory that is removed after the test.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.temporary_path">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">temporary_path</code><span class="sig-paren">(</span><em class="sig-param">temporary_directory</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#temporary_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.temporary_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#onegov_testing.fixtures.temporary_directory" title="onegov_testing.fixtures.temporary_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">temporary_directory()</span></code></a>, but providing a <code class="docutils literal notranslate"><span class="pre">Path</span></code> instead
of a string.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.es_url">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">es_url</code><span class="sig-paren">(</span><em class="sig-param">es_process</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#es_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.es_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an url to an elasticsearch cluster that is guaranteed to be
empty at the beginning of each test.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.fixtures.es_client">
<code class="sig-prename descclassname">onegov_testing.fixtures.</code><code class="sig-name descname">es_client</code><span class="sig-paren">(</span><em class="sig-param">es_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/fixtures.html#es_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.fixtures.es_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides an elasticsearch client.</p>
</dd></dl>

</div>
<div class="section" id="module-onegov_testing.utils">
<span id="utils"></span><h2>Utils<a class="headerlink" href="#module-onegov_testing.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="onegov_testing.utils.create_image">
<code class="sig-prename descclassname">onegov_testing.utils.</code><code class="sig-name descname">create_image</code><span class="sig-paren">(</span><em class="sig-param">width=50</em>, <em class="sig-param">height=50</em>, <em class="sig-param">output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/utils.html#create_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.utils.create_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a test image and returns it’s file handle.</p>
</dd></dl>

<dl class="function">
<dt id="onegov_testing.utils.random_namespace">
<code class="sig-prename descclassname">onegov_testing.utils.</code><code class="sig-name descname">random_namespace</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov_testing/utils.html#random_namespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov_testing.utils.random_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random namespace.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.svg" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=OneGov&repo=onegov-docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Verein OneGov.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/onegov_testing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>