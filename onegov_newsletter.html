
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>OneGov Newsletter API &#8212; OneGov Docs 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="onegov-newsletter-api">
<h1>OneGov Newsletter API<a class="headerlink" href="#onegov-newsletter-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-onegov.newsletter.models">
<span id="models"></span><h2>Models<a class="headerlink" href="#module-onegov.newsletter.models" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="onegov.newsletter.models.Newsletter">
<em class="property">class </em><code class="descclassname">onegov.newsletter.models.</code><code class="descname">Newsletter</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov/newsletter/models.html#Newsletter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov.newsletter.models.Newsletter" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a newsletter before and after it is sent.</p>
<p>A newsletter basically consists of a title/subject, a content and a
number of recipients. We assume that all newsletters are sent in HTML
using onegov.core, which automatically creates a text representation.</p>
<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.es_public">
<code class="descname">es_public</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.es_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the model is available to be found by the public.
If false, only editors/admins will see this object in the search
results.</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.name">
<code class="descname">name</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.name" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of the newsletter, derived from the title</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.title">
<code class="descname">title</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.title" title="Permalink to this definition">¶</a></dt>
<dd><p>the title of the newsletter</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.lead">
<code class="descname">lead</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.lead" title="Permalink to this definition">¶</a></dt>
<dd><p>the optional lead or editorial of the newsletter</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.html">
<code class="descname">html</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.html" title="Permalink to this definition">¶</a></dt>
<dd><p>the content of the newsletter in html, this is not just the partial
content, but the actual, fully rendered html content.</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.sent">
<code class="descname">sent</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.sent" title="Permalink to this definition">¶</a></dt>
<dd><p>null if not sent yet, otherwise the date this newsletter was first sent</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.scheduled">
<code class="descname">scheduled</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.scheduled" title="Permalink to this definition">¶</a></dt>
<dd><p>time the newsletter is scheduled to be sent (in UTC)</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Newsletter.recipients">
<code class="descname">recipients</code><a class="headerlink" href="#onegov.newsletter.models.Newsletter.recipients" title="Permalink to this definition">¶</a></dt>
<dd><p>the recipients of this newsletter, meant in part as a tracking feature
to answer the question “who got which newsletters?” - for this to work
the user of onegov.newsletter has to make sure that sent out
newsletters can’t have actual recipients removed from them.
onegov.newsletter does not make any guarantees here</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="onegov.newsletter.models.Recipient">
<em class="property">class </em><code class="descclassname">onegov.newsletter.models.</code><code class="descname">Recipient</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov/newsletter/models.html#Recipient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov.newsletter.models.Recipient" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a single recipient.</p>
<p>Recipients may be grouped by any kind of string. Only inside their groups
are recipient addresses unique. However, groups are an optional feature
and they are not deeply integrated. If you don’t care for group, never
use them and the list becomes like a simple list of addresses with no
duplicate addresses present.</p>
<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.id">
<code class="descname">id</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.id" title="Permalink to this definition">¶</a></dt>
<dd><p>the id of the recipient, used in the url</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.address">
<code class="descname">address</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.address" title="Permalink to this definition">¶</a></dt>
<dd><p>the email address of the recipient, unique per group</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.group">
<code class="descname">group</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.group" title="Permalink to this definition">¶</a></dt>
<dd><p>the recipient group, a freely choosable string - may be null</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.newsletters">
<code class="descname">newsletters</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.newsletters" title="Permalink to this definition">¶</a></dt>
<dd><p>the newsletters that this recipient received</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.token">
<code class="descname">token</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.token" title="Permalink to this definition">¶</a></dt>
<dd><p>this token is used for confirm and unsubscribe</p>
</dd></dl>

<dl class="attribute">
<dt id="onegov.newsletter.models.Recipient.confirmed">
<code class="descname">confirmed</code><a class="headerlink" href="#onegov.newsletter.models.Recipient.confirmed" title="Permalink to this definition">¶</a></dt>
<dd><p>when recipients are added, they are unconfirmed. At this point they get
one e-mail with a confirmation link. If they ignore said e-mail they
should not get another one.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="onegov.newsletter.models.Subscription">
<em class="property">class </em><code class="descclassname">onegov.newsletter.models.</code><code class="descname">Subscription</code><span class="sig-paren">(</span><em>recipient</em>, <em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onegov/newsletter/models.html#Subscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov.newsletter.models.Subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds subscription management to a recipient.</p>
</dd></dl>

</div>
<div class="section" id="module-onegov.newsletter.collection">
<span id="collection"></span><h2>Collection<a class="headerlink" href="#module-onegov.newsletter.collection" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-onegov.newsletter.errors">
<span id="errors"></span><h2>Errors<a class="headerlink" href="#module-onegov.newsletter.errors" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="onegov.newsletter.errors.NewsletterException">
<em class="property">exception </em><code class="descclassname">onegov.newsletter.errors.</code><code class="descname">NewsletterException</code><a class="reference internal" href="_modules/onegov/newsletter/errors.html#NewsletterException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov.newsletter.errors.NewsletterException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="onegov.newsletter.errors.AlreadyExistsError">
<em class="property">exception </em><code class="descclassname">onegov.newsletter.errors.</code><code class="descname">AlreadyExistsError</code><a class="reference internal" href="_modules/onegov/newsletter/errors.html#AlreadyExistsError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onegov.newsletter.errors.AlreadyExistsError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised if a newsletter exists already.</p>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.svg" alt="Logo"/>
    
  </a>
</p>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=OneGov&repo=onegov-docs&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>


<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Verein OneGov.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/onegov_newsletter.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>